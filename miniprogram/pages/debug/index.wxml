<!--pages/debug/index.wxml-->
<view class="container">
  <view class="header">
    <text class="title">ç¯å¢ƒè°ƒè¯•ä¿¡æ¯</text>
  </view>

  <view class="section">
    <view class="section-title">å½“å‰ç¯å¢ƒ</view>
    <view class="info-item">
      <text class="label">ç¯å¢ƒ:</text>
      <text class="value {{currentEnv === 'development' ? 'success' : 'warning'}}">{{currentEnv}}</text>
    </view>
    <view class="info-item">
      <text class="label">APIåœ°å€:</text>
      <text class="value">{{baseUrl}}</text>
    </view>
    <view class="info-item">
      <text class="label">è°ƒè¯•æ¨¡å¼:</text>
      <text class="value {{debugMode ? 'success' : 'normal'}}">{{debugMode ? 'å¼€å¯' : 'å…³é—­'}}</text>
    </view>
  </view>

  <view class="section" wx:if="{{accountInfo}}">
    <view class="section-title">å°ç¨‹åºä¿¡æ¯</view>
    <view class="info-item" wx:if="{{accountInfo.miniProgram}}">
      <text class="label">ç‰ˆæœ¬ç±»å‹:</text>
      <text class="value">{{accountInfo.miniProgram.envVersion}}</text>
    </view>
    <view class="info-item" wx:if="{{accountInfo.miniProgram}}">
      <text class="label">ç‰ˆæœ¬å·:</text>
      <text class="value">{{accountInfo.miniProgram.version}}</text>
    </view>
    <view class="info-item" wx:if="{{accountInfo.plugin}}">
      <text class="label">æ’ä»¶ç‰ˆæœ¬:</text>
      <text class="value">{{accountInfo.plugin.version}}</text>
    </view>
  </view>

  <view class="section" wx:if="{{configInfo}}">
    <view class="section-title">é…ç½®è¯¦æƒ…</view>
    <view class="config-box">
      <text class="config-text">{{configInfo}}</text>
    </view>
  </view>

  <view class="actions">
    <button class="btn primary" bindtap="testApiConnection">æµ‹è¯•APIè¿æ¥</button>
    <button class="btn secondary" bindtap="copyConfig">å¤åˆ¶é…ç½®</button>
  </view>

  <view class="tips">
    <text class="tip-text">ğŸ’¡ å¦‚æœç¯å¢ƒä¸æ˜¯ developmentï¼Œè¯·åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­åˆ‡æ¢åˆ°å¼€å‘ç‰ˆ</text>
  </view>
</view>